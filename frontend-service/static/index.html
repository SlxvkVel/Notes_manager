<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Менеджер заметок</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Менеджер заметок</h1>
    
    <div class="container">
        <h3>Профиль</h3>
        
        <div class="auth-buttons">
            <button onclick="toggleForm('registerForm')">Регистрация</button>
            <button onclick="toggleForm('loginForm')">Вход</button>
            <button onclick="logout()" class="logout-btn">Выход</button>
        </div>

        <div id="registerForm" class="auth-form">
            <h4>Регистрация</h4>
            <input type="text" id="regUsername" placeholder="Имя пользователя" required>
            <input type="email" id="regEmail" placeholder="Email" required>
            <input type="password" id="regPassword" placeholder="Пароль" required>
            <button onclick="register()">Зарегистрироваться</button>
            <button onclick="toggleForm('registerForm')" class="cancel-btn">Отмена</button>
        </div>

        <div id="loginForm" class="auth-form">
            <h4>Вход</h4>
            <input type="email" id="loginEmail" placeholder="Email" required>
            <input type="password" id="loginPassword" placeholder="Пароль" required>
            <button onclick="login()">Войти</button>
            <button onclick="toggleForm('loginForm')" class="cancel-btn">Отмена</button>
        </div>

        <div id="userInfo" class="user-info">
            <strong>Вы вошли как: <span id="currentUser"></span></strong>
        </div>
    </div>

    <div class="container">
        <h3>Создать заметку</h3>
        <input type="text" id="title" placeholder="Заголовок заметки">
        <textarea id="content" placeholder="Текст заметки" rows="4"></textarea>
        <button onclick="createNote()">Создать заметку</button>
    </div>

    <div class="container">
        <h3>Мои заметки</h3>
        <button onclick="getNotes()" class="refresh-btn">Обновить список</button>
        <div id="notes"></div>
    </div>

    <!-- Модальное окно для редактирования -->
    <div class="modal-backdrop" id="modalBackdrop" onclick="closeEditModal()"></div>
    <div id="editModal">
        <h3>Редактировать заметку</h3>
        <input type="text" id="editTitle" placeholder="Заголовок заметки">
        <textarea id="editContent" placeholder="Текст заметки" rows="4"></textarea>
        <div class="modal-actions">
            <button onclick="updateNote()">Сохранить</button>
            <button onclick="closeEditModal()" class="cancel-btn">Отмена</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>